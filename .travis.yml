language: node__js
node__js:
  - "lts/*"
cache:
  directories:
    - node_modules

install:
#  - yarn install
  - npm install
script:
  # yarn
  - npm test
  - CI=false npm run build
  # sonar
  - sonar-scanner

branches:
  only:
    - main
    - dev

deploy:
  provider: heroku
  app: bnbexplorer-frontend
  api_key:
    secure: "tQJc55CMJKgDV0cSBeCjqe5shXf1ocjKv9U/NfpILO4qFuRmNqnyQgwPU7U2frhNUavlROw2P0j5fKrmFsVfyOcyZdXEF4Lw0c0hay8hEmY4VWs9SnV19Qncdkx9hvG2seeGxBsvApg1ksELEQwhgx3vQjprIn6V0zoWdLxNS5witCXqMkTLYIjpLWFsO6mMOWy7yU81Q3zCVASbLsG3erus7ege/d+ovOmOSZHydo1Dly4O925+Uy9ZK1m41Np/4HlnoKuk/+96BYICTRW9v++AZjTXMtbMu0/2tjoVSpgzgV3t+0DayK+VQNdAnA0xzuPj27+Hh6FhRWxHuFT0p5nbXd+z9Bvqmh0Ht9oVQ7d0jI+8SGDfUQmOBlZf5eyZF+/6ba19zKDjViljihAINBr4mMcnrt+hqC7+L05DkgGfagFUO4MjjMvS2kCkal+BKdUTS7l4vFI3Iej2c/3maNsn00tdEtkNatTc2S+CwygkCEiJl1f0I3lFG4LMseGvML7O75RvalsVrg/Eyz/Sx/FtXLA7ZYHdhavv2yzCt0mGriSz2HJL50E/7mZEepQ8FADRkxR0qAYrbxQMH8M3leVZaJytbjmPuMfLDXoL88wPsqXaeq/Vc90eTpxRg2jINnPWzMzaxW26AHr/DbSoEj9SIdgvGfnWisS2m6iGWhU="  on:
    branch: main

addons:
  sonarcloud:
    organization: "uzhase-fs21"
    token:
      secure: qCJiDQVBRpcADrPWIQFX2HL+hjMA6HR5WdO8YiiHwf4uDCcEFwbHRNfEik4RZmArEiam7XvNn73IWp6Imw5SP8ZKnFswE4jX7TL7CaCUnHEZoNZs/YIBCinnjHl+uDMVA2aC7rDuxVwg576Z8DHTFyXwkcenapKCcKjrBobEd8Mk8nPTqWC5XAQDWUMpNXdP9y/znXh2w0ps/wLzL5PvAslEYS5LKGlmnbeX53SKk53CnQsK700pVN8nAML+MxBDa2EC0Ztw1CZmLFqAgMxTl7XDkl0cFOhGkWiOXgFSq56oMCBThlWSpE+oW6OHILm23ztvXoVS2B2YqLxII8HDOt7ymxkRWMf3ee8TMa58gM6DL/AXE2E4IayhufIVMCGeLZO2sSpFBkahm0Cl/2hKbFrM541NqgZkWxdJvvTYkHMd4vD4jBCLbhUERkMaOBy9w3d2yVRQ/uZqLQhEgQ/lu8MMzNuY1S1feTdau4TPWGHoIowHNfO6XHZyoMY0FLpnlinMAvU2nxdZFamHwpk/FrO3+j4cNE9EJAHcdJW82ugrCc9pqYBH4xuaXF4p30KIoXKb5xXjeqjgSyfKi/yViboO5LgbyiZcGCpwAFYbzYuXK0C/0CYlGSNt5RzJ1gDb9q38Y1pwI/zhOiHAQ6ycuF+SeFlH6V4j5FBNEkDPjSc=

notifications:
  email: false

env:
  global:
    secure: SONAR_TOKEN=qCJiDQVBRpcADrPWIQFX2HL+hjMA6HR5WdO8YiiHwf4uDCcEFwbHRNfEik4RZmArEiam7XvNn73IWp6Imw5SP8ZKnFswE4jX7TL7CaCUnHEZoNZs/YIBCinnjHl+uDMVA2aC7rDuxVwg576Z8DHTFyXwkcenapKCcKjrBobEd8Mk8nPTqWC5XAQDWUMpNXdP9y/znXh2w0ps/wLzL5PvAslEYS5LKGlmnbeX53SKk53CnQsK700pVN8nAML+MxBDa2EC0Ztw1CZmLFqAgMxTl7XDkl0cFOhGkWiOXgFSq56oMCBThlWSpE+oW6OHILm23ztvXoVS2B2YqLxII8HDOt7ymxkRWMf3ee8TMa58gM6DL/AXE2E4IayhufIVMCGeLZO2sSpFBkahm0Cl/2hKbFrM541NqgZkWxdJvvTYkHMd4vD4jBCLbhUERkMaOBy9w3d2yVRQ/uZqLQhEgQ/lu8MMzNuY1S1feTdau4TPWGHoIowHNfO6XHZyoMY0FLpnlinMAvU2nxdZFamHwpk/FrO3+j4cNE9EJAHcdJW82ugrCc9pqYBH4xuaXF4p30KIoXKb5xXjeqjgSyfKi/yViboO5LgbyiZcGCpwAFYbzYuXK0C/0CYlGSNt5RzJ1gDb9q38Y1pwI/zhOiHAQ6ycuF+SeFlH6V4j5FBNEkDPjSc=
